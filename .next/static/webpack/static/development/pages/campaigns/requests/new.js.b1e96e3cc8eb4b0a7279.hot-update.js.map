{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests/new.js.b1e96e3cc8eb4b0a7279.hot-update.js","sources":["webpack:///./pages/campaigns/requests/new.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Form, Button, Message, Input } from 'semantic-ui-react';\nimport Campaign from '../../../ethereum/campaign';\nimport web3 from '../../../ethereum/web3';\nimport { Link, Router } from '../../../routes';\nimport Layout from '../../../components/Layout';\n\nclass RequestNew extends Component {\n    state = {\n        value: '',\n        description: '',\n        recepient: ''\n    };\n\n    static async getInitialProps(props) {\n        const { address } = props.query;\n\n        return { address }\n    }\n\n    onSubmit = async event => {\n        event.preventDefault()\n\n        const campaign = Campaign(this.props.address)\n        const { description, value, recipient } = this.state;\n\n        try {\n            const accounts = await web3.eth.getAccounts();\n            await campaign.methods.createRequest(\n                description,\n                web3.utils.toWei(value, 'ether'),\n                recipient\n            ).send({ from: accounts[0] });\n        } catch (err) {\n\n        }\n    };\n\n    render() {\n        return (\n            <Layout>\n                <h3>Create a Request</h3>\n                <Form onSubmit={this.onSubmit}>\n                    <Form.Field>\n                        <label>Description</label>\n                        <Input\n                            value={this.state.description}\n                            onChange={event => this.setState({description: event.target.value})}\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Value in Ether</label>\n                        <Input\n                            value={this.state.value}\n                            onChange={event => this.setState({ value: event.target.value })}\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Recepient</label>\n                        <Input\n                            value={this.state.recipient}\n                            onChange={event => this.setState({ recipient: event.target.value })}\n                        />\n                    </Form.Field>\n                    <Button primary>Create!</Button>\n                </Form>\n            </Layout>\n        )\n    }\n}\n\nexport default RequestNew;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;;;;;;AAWA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AAYA;AAAA;AACA;AAbA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAiBA;AAAA;AACA;AAAA;AAGA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AAAA;AAIA;;;;;;AAtDA;;;;;;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAXA;AACA;AA+DA;;;;A","sourceRoot":""}